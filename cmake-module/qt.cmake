MACRO(ADD_QT_DEPENDENCY)
  IF(PROJECT_USE_QT4)
    FIND_PACKAGE(Qt4 REQUIRED QtXml)
    SET(PROJECT_QT_LIBS Qt4::QtXml)
    SET(PKG_CONFIG_EXTRA "qtversion=${QT_VERSION_MAJOR}.${QT_VERSION_MINOR}.${QT_VERSION_PATCH}")
  ELSE()
    FIND_PACKAGE(Qt5 REQUIRED COMPONENTS Xml)
    SET(PROJECT_QT_LIBS Qt5::Xml)
    SET(PKG_CONFIG_EXTRA "qtversion=${Qt5Core_VERSION}")
  ENDIF()

  SET(CMAKE_AUTOMOC ON)
  SET(CMAKE_AUTOUIC ON)
ENDMACRO(ADD_QT_DEPENDENCY)
